version: 2
jobs:
  build:
    docker:
      - image: python:2.7.14
    working_directory: ~/adventofcode-2015-py
    branches:
      only:
        - master
    steps:
      - checkout
      - run:
          name: "Run unit tests"
          command: |
            pip install coverage
            python day01_test.py
            coverage run day01_lib.py
            coverage report -m
            python day13_test.py
            coverage run day13_lib.py
            coverage report -m
      - run:
          name: "Get the results"
          command: |
            python day01.py inputs/day01.txt
            python day09.py inputs/day09.txt
            python day13.py inputs/day13.txt
            python day22.py 50 500 51 9